username = document.getElementById("username"); // ไปดึง  div class , id username มา
email = document.getElementById("email");
password = document.getElementById("password");
con_password = document.getElementById("confirm-password");
submit = document.getElementById("submit");
submit.addEventListener("click",(e) => { ถ้ากด submit
     e.preventDefault(); // ป้องกันการกระโดดไปอีกหน้า 
    username.value.trim().length == 0 ? alert("username is empty "): true; // ต้อง username.value ไม่งั้นถ้า username อย่างเดียว ค่าจะไม่ออกมา 
    email.value.trim().length == 0  && !email.includes("@") ? alert("email is empty "): true;
    password.value.trim().length == 0 ?   alert("password is empty ") : true;
    con_password.value.trim().length == 0 || con_password.value != password.value ? alert("confirm password is empty or not match"): true;

    alert("All good!");
}) 

// Lesson 3 - Events Starter

let quotes = [];

// Select DOM elements
const quoteList = document.getElementById("quote-list"); // สร้าง element เรียกมาแต่ละอย่าง 
const form = document.getElementById("quoteForm"); // สร้าง element เรียกมาแต่ละอย่าง 
const contentInput = document.getElementById("content"); // สร้าง element เรียกมาแต่ละอย่าง 
const authorInput = document.getElementById("author"); // สร้าง element เรียกมาแต่ละอย่าง 
const idInput = document.getElementById("quoteId"); // สร้าง element เรียกมาแต่ละอย่าง 
const randomBtn = document.getElementById("randomBtn"); // สร้าง element เรียกมาแต่ละอย่าง 
const randomDisplay = document.getElementById("randomQuoteDisplay"); // สร้าง element เรียกมาแต่ละอย่าง  

// Create a quote element in the DOM
function createQuoteElement(quote) {
  const div = document.createElement("div"); // สร้าง div
  div.setAttribute("data-id", quote.id); // ยัดค่าลงไปใน div

  const contentP = document.createElement("p"); // สร้าง p
  contentP.textContent = quote.content; // 
 const authorP = document.createElement("p");
  authorP.textContent = quote.author;
  
  const editBtn = document.createElement("button");
  editBtn.textContent = "Edit";
  editBtn.classList.add("edit-btn");
  editBtn.setAttribute("data-id", quote.id);
  editBtn.addEventListener("click", () => {
    updateQuoteInDOM(quote);
  }
  );

  const deleteBtn = document.createElement("button");
  deleteBtn.textContent = "Delete";
  deleteBtn.classList.add("delete-btn");
  deleteBtn.setAttribute("data-id", quote.id);
  deleteBtn.addEventListener("click", () => {
    deleteQuoteFromDOM(quote.id);
  });

  div.appendChild(contentP);
  div.appendChild(authorP);
  div.appendChild(editBtn);
  div.appendChild(deleteBtn);

  quoteList.appendChild(div);
    // ต่อเข้าไปใน div
  return div;
  // a quote element example
    //<section id="quote-list">
    //  <div data-id="1">
    //    <p>Confidence comes from discipline and training</p>
    //    <p>Robert</p>
    //    <button class="edit-btn" data-id="1">
    //      Edit
    //    </button>
    //    <button class="delete-btn" data-id="1">
    //      Delete
    //    </button>
    //  </div>
    // </section>
}

// Fill form with quote data for editing
function updateQuoteInDOM(quote) {
 idInput.value = quote.id;
  contentInput.value = quote.content;
  authorInput.value = quote.author; 
    renderQuotes();
}
// การ update คือเราเอา idInput.value  ที่เค้า input เข้ามา  idInput.value  มา = quote.id 
// Delete quote from array and re-render
function deleteQuoteFromDOM(id) {
 quotes=quotes.filter((quote) => quote.id !==id)
 renderQuotes();
}

// Render all quotes to the DOM
function renderQuotes() {
quoteList.innerHTML = "";
quoteList = quotes.forEach((q)=>{
  let  p = createQuoteElement(q);
  quoteList.appendChild(p);
})
  // นี้คือการ put เข้าไปใน ระบบ ถ้าเรียกแบบเข้าใจง่ายๆ แต่เอาจริงๆ คือการ apped ที่เราสร้างอะ เข้าไป ไปเรียก createQuoteElement มา 
}

// Display a random quote
function showRandomQuote() {
  if (quotes.length === 0) {
    randomDisplay.textContent = "No quotes yet!";
    return;
  }

  const random = quotes[Math.floor(Math.random() * quotes.length)];
  randomDisplay.innerHTML = `<blockquote>"${random.content}"</blockquote><p>— ${random.author}</p>`;
}
// คือการ rendom มา เอา  เลขเข้ามา random
// Handle form submission
form.addEventListener("submit", (e) => {
  e.preventDefault();

  const content = contentInput.value.trim();
  const author = authorInput.value.trim();
  const id = idInput.value;
// เข็ค 
  if (content === "" || author === "") return;

  if (id) {
    // Update existing quote
    quotes = quotes.map((q) =>
      q.id === id ? { id, content, author } : q
    ); // ถ้ามันมีแล้วในระบบ ก็ไม่ต้องสร้างใหมา่
  } else {
    // Add new quote
    const newQuote = {
      id: Date.now().toString(),
      content,
      author,
    }; // ถ้าไม่มีก็สร้างใหม่
    quotes.push(newQuote); 
  }

  renderQuotes();
  form.reset();
  idInput.value = "";
});

// Show random quote when button is clicked
randomBtn.addEventListener("click", showRandomQuote);

 // ได้แนวคิดเรื่อง dom เข้าใจมากขึ้น แน่ๆ แต่ก็ฟังเพื่อนอธิบายแล้วลองมาเขียนเอง ถึงเข้าใจ